//Exit System Call

//setting mode flag
[PROCESS_TABLE + [SYSTEM_STATUS_TABLE+1]*16 + 9]  = 10;

//switching to kernal stack
//[PROCESS_TABLE + [SYSTEM_STATUS_TABLE+1] * 16 + 13] = SP;
SP = [PROCESS_TABLE + [SYSTEM_STATUS_TABLE+1] * 16 + 11] * 512 - 1;

//Invoking the exit_process function from the process manager module
backup;
R1 = 3;
R2 = [SYSTEM_STATUS_TABLE + 1];
call MOD_1;
restore;


//Invoking the scheduler
call MOD_5;

